{"event": "Started server process [520]", "logger": "uvicorn.error", "level": "info", "timestamp": "2026-02-24T07:46:00.266424Z"}
{"event": "Waiting for application startup.", "logger": "uvicorn.error", "level": "info", "timestamp": "2026-02-24T07:46:00.266698Z"}
{"event": "Initializing admin database tables...", "logger": "crudadmin.core.db", "level": "info", "timestamp": "2026-02-24T07:46:00.351484Z"}
{"event": "Creating table: admin_user", "logger": "crudadmin.core.db", "level": "info", "timestamp": "2026-02-24T07:46:00.357847Z"}
{"event": "Creating table: admin_session", "logger": "crudadmin.core.db", "level": "info", "timestamp": "2026-02-24T07:46:00.384848Z"}
{"event": "Creating table: admin_event_log", "logger": "crudadmin.core.db", "level": "info", "timestamp": "2026-02-24T07:46:00.416495Z"}
{"event": "Creating table: admin_audit_log", "logger": "crudadmin.core.db", "level": "info", "timestamp": "2026-02-24T07:46:00.446688Z"}
{"event": "Admin database tables created successfully", "logger": "crudadmin.core.db", "level": "info", "timestamp": "2026-02-24T07:46:00.469756Z"}
{"event": "Created initial admin user - username: admin", "logger": "crudadmin", "level": "info", "timestamp": "2026-02-24T07:46:00.693776Z"}
{"event": "Application startup complete.", "logger": "uvicorn.error", "level": "info", "timestamp": "2026-02-24T07:46:00.694035Z"}
{"event": "127.0.0.1:50877 - \"GET / HTTP/1.1\" 404", "client_host": "127.0.0.1", "method": "GET", "path": "/", "status_code": 404, "request_id": "63379a1d-2ca8-42b0-96a8-6b99ba73eef5", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:46:12.403462Z"}
{"event": "127.0.0.1:50877 - \"GET /favicon.ico HTTP/1.1\" 404", "client_host": "127.0.0.1", "method": "GET", "path": "/favicon.ico", "status_code": 404, "request_id": "0323e414-4ac2-4381-b925-86d4a8811007", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:46:12.432866Z"}
{"event": "127.0.0.1:50878 - \"GET /docs HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/docs", "status_code": 200, "request_id": "c01403a2-2870-48da-a72c-c1a6e3d42030", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:46:21.532275Z"}
{"event": "127.0.0.1:50878 - \"GET /openapi.json HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/openapi.json", "status_code": 200, "request_id": "fe691eca-c59b-4403-88db-5e2b86d6c2cb", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:46:21.906574Z"}
{"event": "127.0.0.1:50880 - \"GET /admin HTTP/1.1\" 307", "client_host": "127.0.0.1", "method": "GET", "path": "/admin", "status_code": 307, "request_id": "7748b51b-b3f7-48b0-977a-fe52c21a963f", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:46:27.916246Z"}
{"event": "127.0.0.1:50880 - \"GET /admin/ HTTP/1.1\" 303", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/", "status_code": 303, "request_id": "60cc6bba-366d-4fdf-9513-8579b1c60325", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:46:27.918595Z"}
{"event": "127.0.0.1:50880 - \"GET /admin/login?error=Please+log+in+to+access+this+page HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/login", "status_code": 200, "request_id": "b7e3ced0-99d2-4d4c-b136-95198de99e1d", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:46:27.965404Z"}
{"event": "127.0.0.1:50880 - \"GET /admin/static/htmx.min.js HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/static/htmx.min.js", "status_code": 200, "request_id": "bac19aae-3f83-413c-9577-16c1142fea06", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:46:27.995081Z"}
{"event": "127.0.0.1:50880 - \"GET /admin/static/favicon.png HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/static/favicon.png", "status_code": 200, "request_id": "79c80b3d-3a14-4c09-9b80-f697aa3c52ef", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:46:28.028456Z"}
{"event": "127.0.0.1:50880 - \"GET /admin/static/favicon.png?v=1 HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/static/favicon.png", "status_code": 200, "request_id": "f1d9d951-2a31-4bf1-96d7-fcaf09f4a536", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:46:28.180636Z"}
{"event": "Processing login attempt...", "client_host": "127.0.0.1", "method": "POST", "path": "/admin/login", "status_code": null, "request_id": "a2e9f103-50bd-449a-b422-2135ef64d0b5", "logger": "crudadmin.admin_interface.admin_site", "level": "info", "timestamp": "2026-02-24T07:47:02.774977Z"}
{"event": "User authenticated successfully, creating session", "client_host": "127.0.0.1", "method": "POST", "path": "/admin/login", "status_code": null, "request_id": "a2e9f103-50bd-449a-b422-2135ef64d0b5", "logger": "crudadmin.admin_interface.admin_site", "level": "info", "timestamp": "2026-02-24T07:47:02.992640Z"}
{"event": "Creating user session...", "client_host": "127.0.0.1", "method": "POST", "path": "/admin/login", "status_code": null, "request_id": "a2e9f103-50bd-449a-b422-2135ef64d0b5", "logger": "crudadmin.admin_interface.admin_site", "level": "info", "timestamp": "2026-02-24T07:47:02.992797Z"}
{"event": "Creating new session for user_id: 1", "client_host": "127.0.0.1", "method": "POST", "path": "/admin/login", "status_code": null, "request_id": "a2e9f103-50bd-449a-b422-2135ef64d0b5", "logger": "crudadmin.session.manager", "level": "info", "timestamp": "2026-02-24T07:47:02.992912Z"}
{"event": "Session 169f314e-f9a4-44d6-b188-87ba694fb106 created successfully", "client_host": "127.0.0.1", "method": "POST", "path": "/admin/login", "status_code": null, "request_id": "a2e9f103-50bd-449a-b422-2135ef64d0b5", "logger": "crudadmin.session.manager", "level": "info", "timestamp": "2026-02-24T07:47:03.013186Z"}
{"event": "Session created successfully: 169f314e-f9a4-44d6-b188-87ba694fb106", "client_host": "127.0.0.1", "method": "POST", "path": "/admin/login", "status_code": null, "request_id": "a2e9f103-50bd-449a-b422-2135ef64d0b5", "logger": "crudadmin.admin_interface.admin_site", "level": "info", "timestamp": "2026-02-24T07:47:03.013367Z"}
{"event": "Login completed successfully", "client_host": "127.0.0.1", "method": "POST", "path": "/admin/login", "status_code": null, "request_id": "a2e9f103-50bd-449a-b422-2135ef64d0b5", "logger": "crudadmin.admin_interface.admin_site", "level": "info", "timestamp": "2026-02-24T07:47:03.013654Z"}
{"event": "Error logging event: 'NoneType' object is not iterable", "client_host": "127.0.0.1", "method": "POST", "path": "/admin/login", "status_code": null, "request_id": "a2e9f103-50bd-449a-b422-2135ef64d0b5", "logger": "crudadmin.event.service", "level": "error", "timestamp": "2026-02-24T07:47:03.027233Z", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\crudadmin\\event\\service.py\", line 86, in log_event\n    result_dict = cast(dict, dict(result))\n                             ~~~~^^^^^^^^\nTypeError: 'NoneType' object is not iterable"}
{"event": "Error logging auth event: 'NoneType' object is not iterable", "client_host": "127.0.0.1", "method": "POST", "path": "/admin/login", "status_code": null, "request_id": "a2e9f103-50bd-449a-b422-2135ef64d0b5", "logger": "crudadmin.event.integration", "level": "error", "timestamp": "2026-02-24T07:47:03.078470Z", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\crudadmin\\event\\integration.py\", line 82, in log_auth_event\n    await self.event_service.log_event(\n    ...<7 lines>...\n    )\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\crudadmin\\event\\service.py\", line 86, in log_event\n    result_dict = cast(dict, dict(result))\n                             ~~~~^^^^^^^^\nTypeError: 'NoneType' object is not iterable"}
{"event": "127.0.0.1:50885 - \"POST /admin/login HTTP/1.1\" 303", "client_host": "127.0.0.1", "method": "POST", "path": "/admin/login", "status_code": 303, "request_id": "a2e9f103-50bd-449a-b422-2135ef64d0b5", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:47:03.115465Z"}
{"event": "127.0.0.1:50885 - \"GET /admin/ HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/", "status_code": 200, "request_id": "a92a074a-d1da-45ee-98ba-cece54369196", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:47:03.149609Z"}
{"event": "127.0.0.1:50885 - \"GET /admin/dashboard-content HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/dashboard-content", "status_code": 200, "request_id": "a724a575-b7a6-410a-8301-1e8f12b078e5", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:47:03.187948Z"}
{"event": "127.0.0.1:50904 - \"GET /admin/management/health HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/management/health", "status_code": 200, "request_id": "a9b4c987-16ed-42e2-9ec0-25abb96f0578", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:47:08.776195Z"}
{"event": "127.0.0.1:50904 - \"GET /admin/management/health/content HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/management/health/content", "status_code": 200, "request_id": "cad1d6a4-ae72-4b6d-97d5-bc2cf30ebed1", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:47:08.921150Z"}
{"event": "127.0.0.1:50904 - \"GET /admin/management/events HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/management/events", "status_code": 200, "request_id": "d6de70c2-e3e0-428b-a915-77634b376819", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:47:09.499523Z"}
{"event": "127.0.0.1:50904 - \"GET /admin/management/events/content HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/management/events/content", "status_code": 200, "request_id": "e3636ade-05e2-48dc-872c-5f9bb78f90d1", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:47:09.540414Z"}
{"event": "Auth error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block\n[SQL: SELECT count(*) AS count_1 \nFROM \"user\"]\n(Background on this error at: https://sqlalche.me/e/20/dbapi)", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/AdminSession/", "status_code": null, "request_id": "94d7ec79-b1f3-4a63-be6e-3b377b6fc342", "logger": "crudadmin.admin_interface.middleware.auth", "level": "error", "timestamp": "2026-02-24T07:47:10.078558Z", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 550, in _prepare_and_execute\n    self._rows = deque(await prepared_stmt.fetch(*parameters))\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\asyncpg\\prepared_stmt.py\", line 177, in fetch\n    data = await self.__bind_execute(args, 0, timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\asyncpg\\prepared_stmt.py\", line 268, in __bind_execute\n    data, status, _ = await self.__do_execute(\n                      ^^^^^^^^^^^^^^^^^^^^^^^^\n        lambda protocol: protocol.bind_execute(\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n            self._state, args, '', limit, True, timeout))\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\asyncpg\\prepared_stmt.py\", line 257, in __do_execute\n    return await executor(protocol)\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"asyncpg/protocol/protocol.pyx\", line 205, in bind_execute\nasyncpg.exceptions.InFailedSQLTransactionError: current transaction is aborted, commands ignored until end of transaction block\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 585, in execute\n    self._adapt_connection.await_(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self._prepare_and_execute(operation, parameters)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 563, in _prepare_and_execute\n    self._handle_exception(error)\n    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 513, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 797, in _handle_exception\n    raise translated_error from error\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\crudadmin\\admin_interface\\middleware\\auth.py\", line 104, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\middleware\\asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 119, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 105, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 431, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastapi\\routing.py\", line 313, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\crudadmin\\admin_interface\\model_view.py\", line 1019, in get_model_admin_page_inner\n    base_context = await self.admin_site.get_base_context(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        admin_db=admin_db, app_db=app_db\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\crudadmin\\admin_interface\\admin_site.py\", line 472, in get_base_context\n    cnt = await crud.count(app_db)\n          ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\fastcrud\\crud\\fast_crud.py\", line 1172, in count\n    total_count: int | None = await db.scalar(count_query)\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\ext\\asyncio\\session.py\", line 505, in scalar\n    return await greenlet_spawn(\n           ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2399, in scalar\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\session.py\", line 2249, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\orm\\context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py\", line 527, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1641, in _execute_clauseelement\n    ret = self._execute_context(\n        dialect,\n    ...<8 lines>...\n        cache_hit=cache_hit,\n    )\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1846, in _execute_context\n    return self._exec_single_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~^\n        dialect, context, statement, parameters\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1986, in _exec_single_context\n    self._handle_dbapi_exception(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        e, str_statement, effective_parameters, cursor, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 2363, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\base.py\", line 1967, in _exec_single_context\n    self.dialect.do_execute(\n    ~~~~~~~~~~~~~~~~~~~~~~~^\n        cursor, str_statement, effective_parameters, context\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\engine\\default.py\", line 952, in do_execute\n    cursor.execute(statement, parameters)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 585, in execute\n    self._adapt_connection.await_(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self._prepare_and_execute(operation, parameters)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\util\\_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n            ^^^^^^^^^^^^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 563, in _prepare_and_execute\n    self._handle_exception(error)\n    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 513, in _handle_exception\n    self._adapt_connection._handle_exception(error)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\sqlalchemy\\dialects\\postgresql\\asyncpg.py\", line 797, in _handle_exception\n    raise translated_error from error\nsqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InFailedSQLTransactionError'>: current transaction is aborted, commands ignored until end of transaction block\n[SQL: SELECT count(*) AS count_1 \nFROM \"user\"]\n(Background on this error at: https://sqlalche.me/e/20/dbapi)"}
{"event": "127.0.0.1:50904 - \"GET /admin/AdminSession/ HTTP/1.1\" 303", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/AdminSession/", "status_code": 303, "request_id": "94d7ec79-b1f3-4a63-be6e-3b377b6fc342", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:47:11.816700Z"}
{"event": "127.0.0.1:50904 - \"GET /admin/login?error=Authentication+error HTTP/1.1\" 303", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/login", "status_code": 303, "request_id": "30b8775a-e32b-40c3-a747-1cf84d97602e", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:47:11.834587Z"}
{"event": "127.0.0.1:50904 - \"GET /admin/ HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/", "status_code": 200, "request_id": "7673feef-dd41-4996-a278-6025a8691e88", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:47:11.852787Z"}
{"event": "127.0.0.1:50904 - \"GET /admin/dashboard-content HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/dashboard-content", "status_code": 200, "request_id": "5af4a8b7-f190-4207-a395-458701d6b83c", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:47:11.879333Z"}
{"event": "127.0.0.1:50904 - \"GET /admin/User/ HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/User/", "status_code": 200, "request_id": "6b6f4b50-58cd-43bc-ac9d-26de14cff14f", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:47:15.210807Z"}
{"event": "127.0.0.1:50904 - \"GET /admin/Tier/ HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/Tier/", "status_code": 200, "request_id": "ddca6302-4764-4842-afaf-f939e563b86a", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:47:16.076538Z"}
{"event": "127.0.0.1:50908 - \"GET /admin/Tier/create_page HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/Tier/create_page", "status_code": 200, "request_id": "b4b43961-3815-486d-b3c3-5b9f0b3efd7b", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:47:21.224930Z"}
{"event": "127.0.0.1:50915 - \"GET /admin/Tier/ HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/Tier/", "status_code": 200, "request_id": "d2921429-4c49-4443-8a1a-cce3c8483675", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:47:27.175714Z"}
{"event": "127.0.0.1:50915 - \"GET /admin/static/htmx.min.js HTTP/1.1\" 304", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/static/htmx.min.js", "status_code": 304, "request_id": "310b0cc3-ae31-467c-a22e-0894cb1c49bc", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:47:27.188824Z"}
{"event": "127.0.0.1:50916 - \"GET /admin/static/favicon.png HTTP/1.1\" 304", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/static/favicon.png", "status_code": 304, "request_id": "1aa4ba48-ed24-4977-9e83-ea8cac1dbc83", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:47:27.189462Z"}
{"event": "127.0.0.1:50917 - \"GET /admin/ HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/", "status_code": 200, "request_id": "7797a240-7936-46e0-bc64-649f78eb50a7", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:47:36.136853Z"}
{"event": "127.0.0.1:50917 - \"GET /admin/dashboard-content HTTP/1.1\" 200", "client_host": "127.0.0.1", "method": "GET", "path": "/admin/dashboard-content", "status_code": 200, "request_id": "429e619a-604a-43e3-81fa-f3f67bb47836", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:47:36.166388Z"}
{"event": "Started server process [5896]", "logger": "uvicorn.error", "level": "info", "timestamp": "2026-02-24T07:52:34.002922Z"}
{"event": "Waiting for application startup.", "logger": "uvicorn.error", "level": "info", "timestamp": "2026-02-24T07:52:34.003163Z"}
{"event": "Initializing admin database tables...", "logger": "crudadmin.core.db", "level": "info", "timestamp": "2026-02-24T07:52:34.065150Z"}
{"event": "Creating table: admin_user", "logger": "crudadmin.core.db", "level": "info", "timestamp": "2026-02-24T07:52:34.067131Z"}
{"event": "Creating table: admin_session", "logger": "crudadmin.core.db", "level": "info", "timestamp": "2026-02-24T07:52:34.068696Z"}
{"event": "Creating table: admin_event_log", "logger": "crudadmin.core.db", "level": "info", "timestamp": "2026-02-24T07:52:34.069138Z"}
{"event": "Creating table: admin_audit_log", "logger": "crudadmin.core.db", "level": "info", "timestamp": "2026-02-24T07:52:34.069540Z"}
{"event": "Admin database tables created successfully", "logger": "crudadmin.core.db", "level": "info", "timestamp": "2026-02-24T07:52:34.070264Z"}
{"event": "Application startup complete.", "logger": "uvicorn.error", "level": "info", "timestamp": "2026-02-24T07:52:34.072195Z"}
{"event": "127.0.0.1:51072 - \"GET /api/v1/health HTTP/1.1\" 200", "client_host": "127.0.0.1", "request_id": "01372a2a-91a3-4bb4-9821-79f8cefa658f", "status_code": 200, "method": "GET", "path": "/api/v1/health", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:52:39.658397Z"}
{"event": "127.0.0.1:51075 - \"GET /api/v1/user/nonexistent HTTP/1.1\" 404", "client_host": "127.0.0.1", "request_id": "3110ae1b-587f-4802-8af3-04fa11f2d94a", "status_code": 404, "method": "GET", "path": "/api/v1/user/nonexistent", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:52:40.551947Z"}
{"event": "127.0.0.1:51092 - \"GET /admin/ HTTP/1.1\" 200", "client_host": "127.0.0.1", "request_id": "0ef9fda7-c4ac-47a0-abb1-0c169efd547c", "status_code": 200, "method": "GET", "path": "/admin/", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:53:36.413201Z"}
{"event": "127.0.0.1:51092 - \"GET /admin/static/htmx.min.js HTTP/1.1\" 304", "client_host": "127.0.0.1", "request_id": "e8fc48ec-b192-42bc-a12d-c2ca4a2f9cc3", "status_code": 304, "method": "GET", "path": "/admin/static/htmx.min.js", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:53:36.448299Z"}
{"event": "127.0.0.1:51093 - \"GET /admin/static/favicon.png HTTP/1.1\" 304", "client_host": "127.0.0.1", "request_id": "49e320a4-cd78-4cf2-8cf3-efd22d8f12e4", "status_code": 304, "method": "GET", "path": "/admin/static/favicon.png", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:53:36.448655Z"}
{"event": "127.0.0.1:51092 - \"GET /admin/static/favicon.png?v=1 HTTP/1.1\" 304", "client_host": "127.0.0.1", "request_id": "87258148-c4f9-4f63-9025-353b5e5dc04f", "status_code": 304, "method": "GET", "path": "/admin/static/favicon.png", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:53:36.459633Z"}
{"event": "127.0.0.1:51093 - \"GET /admin/dashboard-content HTTP/1.1\" 200", "client_host": "127.0.0.1", "request_id": "f3d3682e-dd47-49a1-8d3e-2e8a1f223a85", "status_code": 200, "method": "GET", "path": "/admin/dashboard-content", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:53:36.477811Z"}
{"event": "127.0.0.1:51093 - \"GET /admin/ HTTP/1.1\" 200", "client_host": "127.0.0.1", "request_id": "51595cf3-cf78-4b6d-ae8e-d0c90bda6e6c", "status_code": 200, "method": "GET", "path": "/admin/", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:53:37.168807Z"}
{"event": "127.0.0.1:51093 - \"GET /admin/dashboard-content HTTP/1.1\" 200", "client_host": "127.0.0.1", "request_id": "59a20e54-e570-40f3-9f32-8dd91d01c073", "status_code": 200, "method": "GET", "path": "/admin/dashboard-content", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:53:37.195283Z"}
{"event": "127.0.0.1:51093 - \"GET /admin/ HTTP/1.1\" 200", "client_host": "127.0.0.1", "request_id": "93957197-6e78-497c-9013-b1ce316b1c89", "status_code": 200, "method": "GET", "path": "/admin/", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:53:37.631338Z"}
{"event": "127.0.0.1:51093 - \"GET /admin/dashboard-content HTTP/1.1\" 200", "client_host": "127.0.0.1", "request_id": "61300c50-edce-4a37-b599-663257291ea4", "status_code": 200, "method": "GET", "path": "/admin/dashboard-content", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:53:37.658173Z"}
{"event": "127.0.0.1:51093 - \"GET /admin/ HTTP/1.1\" 200", "client_host": "127.0.0.1", "request_id": "38ab1e15-a696-4330-985c-a6d3aae5cb8e", "status_code": 200, "method": "GET", "path": "/admin/", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:53:37.855077Z"}
{"event": "127.0.0.1:51093 - \"GET /admin/dashboard-content HTTP/1.1\" 200", "client_host": "127.0.0.1", "request_id": "0727cf92-28c1-4ca3-97bd-777c6e64f3bd", "status_code": 200, "method": "GET", "path": "/admin/dashboard-content", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:53:37.882266Z"}
{"event": "127.0.0.1:51093 - \"GET /admin/ HTTP/1.1\" 200", "client_host": "127.0.0.1", "request_id": "8f97a4d9-8240-43a2-831b-fde1b8f458f7", "status_code": 200, "method": "GET", "path": "/admin/", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:53:38.063739Z"}
{"event": "127.0.0.1:51093 - \"GET /admin/dashboard-content HTTP/1.1\" 200", "client_host": "127.0.0.1", "request_id": "5159145d-7dfe-4b3c-9359-2fb7a2a463b2", "status_code": 200, "method": "GET", "path": "/admin/dashboard-content", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:53:38.089932Z"}
{"event": "Error logging event: 'NoneType' object is not iterable", "client_host": "127.0.0.1", "request_id": "9ea7d32f-261d-445c-87e8-f82ff6cb6f72", "status_code": null, "method": "GET", "path": "/admin/logout", "logger": "crudadmin.event.service", "level": "error", "timestamp": "2026-02-24T07:53:39.360039Z", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\crudadmin\\event\\service.py\", line 86, in log_event\n    result_dict = cast(dict, dict(result))\n                             ~~~~^^^^^^^^\nTypeError: 'NoneType' object is not iterable"}
{"event": "Error logging auth event: 'NoneType' object is not iterable", "client_host": "127.0.0.1", "request_id": "9ea7d32f-261d-445c-87e8-f82ff6cb6f72", "status_code": null, "method": "GET", "path": "/admin/logout", "logger": "crudadmin.event.integration", "level": "error", "timestamp": "2026-02-24T07:53:39.410968Z", "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\crudadmin\\event\\integration.py\", line 82, in log_auth_event\n    await self.event_service.log_event(\n    ...<7 lines>...\n    )\n  File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\crudadmin\\event\\service.py\", line 86, in log_event\n    result_dict = cast(dict, dict(result))\n                             ~~~~^^^^^^^^\nTypeError: 'NoneType' object is not iterable"}
{"event": "127.0.0.1:51093 - \"GET /admin/logout HTTP/1.1\" 303", "client_host": "127.0.0.1", "request_id": "9ea7d32f-261d-445c-87e8-f82ff6cb6f72", "status_code": 303, "method": "GET", "path": "/admin/logout", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:53:39.447539Z"}
{"event": "127.0.0.1:51093 - \"GET /admin/login HTTP/1.1\" 200", "client_host": "127.0.0.1", "request_id": "126148c2-6deb-4fb0-9f21-0693ee83e2cb", "status_code": 200, "method": "GET", "path": "/admin/login", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:53:39.451825Z"}
{"event": "127.0.0.1:51093 - \"GET /admin/login HTTP/1.1\" 200", "client_host": "127.0.0.1", "request_id": "f57cb58a-4221-4282-b8e6-a21267f742cf", "status_code": 200, "method": "GET", "path": "/admin/login", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:53:40.551760Z"}
{"event": "127.0.0.1:51093 - \"GET /admin/login HTTP/1.1\" 200", "client_host": "127.0.0.1", "request_id": "829b965d-1601-408f-8d69-ae2bbfd1912b", "status_code": 200, "method": "GET", "path": "/admin/login", "logger": "uvicorn.access", "level": "info", "timestamp": "2026-02-24T07:53:41.203876Z"}
